# String and Characters

```swift
let c: Character = â€œCâ€
```

â†’ Character ìë£Œí˜•ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•´ì•¼ í•¨

```swift
let emptyChar: Character = " "
```

â†’ Characterí˜•ì—ì„œ ë¹ˆ ë¬¸ìë¥¼ ì €ì¥í•˜ë ¤ë©´ ê³µë°± ì¶”ê°€

â†’ ë¬¸ìì—´ì—ì„œ ë¹ˆ ë¬¸ìë¥¼ ì €ì¥í•˜ë ¤ë©´ ê³µë°± ì¶”ê°€ X

## String Types

SwiftëŠ” ë‘ ê°€ì§€ í˜•ì‹ì˜ ë¬¸ìì—´ ì‚¬ìš©

- String â‡’ Swift String
- NSString â‡’ Foundation String

```swift
var nsstr: NSString = "str"
let swiftStr: String = nsstr as String
```

- NSStringì„ Stringìœ¼ë¡œ ì €ì¥í•  ë•ŒëŠ” Type Casting í•„ìš”
- Toll-Free Bridged
    - íƒ€ì… ìºìŠ¤íŒ…ìœ¼ë¡œ í˜¸í™˜ë˜ëŠ” ìë£Œí˜•

## Unicode

```swift
let str = "Swift String"
str.utf8
str.utf16

var thumbUp = "ğŸ‘"
thumbUp = "\u{1F44D}" //ğŸ‘
```

# Multiline String Literal

```swift
let multiline = """
multiline literal \
ì¤„ë°”ê¿ˆ
"""
```

- multiline literalì€ ëª…ì‹œì ì¸ ì¤„ë°”ê¿ˆ í—ˆìš©
- ë‚´ìš©ì€ í•­ìƒ ìƒˆë¡œìš´ ë¼ì¸ì—ì„œ ì‹œì‘í•´ì•¼ í•¨
- ì¤„ ë§ˆì§€ë§‰ì— `\` ë¥¼ ì‚¬ìš©í•˜ë©´ ì¤„ë°”ê¿ˆì´ ë˜ì§€ ì•ŠìŒ

# Raw String

```swift
var str = "\"Hello\", Swift 5"
// "Hello", Swift 5

var rawStr = #"\"Hello\", Swift 5"#
// \"Hello\", Swift 5
```

- ë¬¸ìì—´ ì„ `#` ìœ¼ë¡œ ê°ì‹¸ë©´ raw stringì´ ë¨
- raw stringì€ `\` ì™€ `â€œ â€` ë¥¼ ë¬¸ì ê·¸ëŒ€ë¡œ í‘œí˜„
- ë¬¸ìì—´ì— ë©”íƒ€ ë¬¸ì í¬í•¨ ê°€ëŠ¥
- ë¬¸ìì—´ ê°€ë…ì„± ì¦ê°€

# String Interpolation

```swift
\(expr)

str = Stirng(size) + "KB"
str = "\(size)KB"
```

- ì›í•˜ëŠ” í¬ë§·ì„ ì§ì ‘ ì§€ì •í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥

## Format Specifier

```swift
%char

str = String(format: "%.1fKB", size)
// %.1f : format ì§€ì •ì
```

|  |  |
| --- | --- |
| %@ | ë¬¸ìì—´ |
| %d | ì •ìˆ˜ |
| %f | ì‹¤ìˆ˜ |
| %.3f | ì†Œìˆ«ì  3ìë¦¬ê¹Œì§€ ì¶œë ¥ |
| %10d | ì „ì²´ ë¬¸ìì—´ì„ 10ìë¦¬ë¡œ ì¶œë ¥(ì˜¤ë¥¸ìª½ ì •ë ¬) |
| %-10d | ì „ì²´ ë¬¸ìì—´ì„ 10ìë¦¬ë¡œ ì¶œë ¥(ì™¼ìª½ ì •ë ¬) |
| %010d | ë¹ˆ ë¬¸ìì—´ì„ 0ìœ¼ë¡œ ì±„ì›Œì„œ ì¶œë ¥ |

### í¬ë§· ë¬¸ìì˜ ìˆœì„œë¥¼ ì§ì ‘ ì§€ì •

```swift
let korFormat = "ê·¸ë…€ì˜ ì´ë¦„ì€ %2$@ %1$@ ì…ë‹ˆë‹¤."
```

- ì²« ë²ˆì§¸ í¬ë§· ì§€ì •ì â†’ ë‘ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì™€ êµì²´
- ë‘ ë²ˆì§¸ í¬ë§· ì§€ì •ì â†’ ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì™€ êµì²´

# String Indices

```swift
let str = "Swift"

// ë¬¸ìì—´ì˜ ì²« ë²ˆì§¸ ì¸ë±ìŠ¤ str.startIndex
let firstCh = str[str.startIndex] // S
```

```swift
// ë¬¸ìì—´ì˜ ë§ˆì§€ë§‰ ë¬¸ìì˜ ë‹¤ìŒ ì¸ë±ìŠ¤ str.endIndex
// past the end
// str.endIndex-1 -> error
let lastCharIndex = str.index(before: str.endIndex)
let lastCh = str[lastCharIndex] // t
```

```swift
// ë‘ ë²ˆì§¸ ì¸ë±ìŠ¤ ì ‘ê·¼
let secondCharIndex = str.index(after: startIndex)
let secondChar = str[secondCharIndex] // w
```

```swift
// ì„¸ ë²ˆì§¸ ì¸ë±ìŠ¤ ì ‘ê·¼
// startIndex ê¸°ì¤€
var thirdCharIndex = str.index(str.startIndex, offsetBy: 2)
var thirdChar = str[thirdCharIndex] // i

// endIndex ê¸°ì¤€
thirdCharIndex = str.index(str.endIndex, offsetBy: -3)
```

# String Basics

```swift
let a = String() // ë¹ˆ ë¬¸ìì—´ ìƒì„±
let hex = String(123, radix: 16) // 16ì§„ìˆ˜ í‘œí˜„
print(hex) // 7b

// ë°˜ë³µë˜ëŠ” ë¬¸ìì—´ ìƒì„±
let repeatStr = String(repeating: "A", count: 5) // AAAAA

// ë¬¸ìì—´ ê¸¸ì´ í™•ì¸
str.count

// ë¹ˆ ë¬¸ìì—´ í™•ì¸
str.count == 0
str.isEmpty

// ë¬¸ìì—´ ë¹„êµ
str == "Apple"
"apple" != "Apple" // true

// ì†Œë¬¸ì ë³€í™˜
str.lowercased()

// ëŒ€ë¬¸ì ë³€í™˜
str.uppercased()

// ê° ë‹¨ì–´ì˜ ì²« ë²ˆì§¸ ë¬¸ìë¥¼ ëŒ€ë¬¸ìë¡œ ë³€ê²½í•˜ëŠ” ì†ì„±
str.capitalized
```

â—ï¸- edë¡œ ëë‚˜ëŠ” ë©”ì†Œë“œëŠ” ì›ë³¸ì€ ê·¸ëŒ€ë¡œ ë‘ê³  ì›ë³¸ì„ ë°”ê¾¼ ìƒˆë¡œìš´ ê°’ì„ ë¦¬í„´

- ë¬¸ìì—´ì€ ë¬¸ìì˜ ì§‘í•© â†’ Character Sequence
- for - in ë°˜ë³µë¬¸ì—ì„œ ì‚¬ìš© ê°€ëŠ¥

```swift
for char in "Hello"{
	print(char)
}
// H
// e
// l
// l
// o
```

- random

```swift
let num = "1234567890"
// ë¬´ì‘ìœ„ ìš”ì†Œ return
num.randomElement()

// ë¬¸ìì—´ì— í¬í•¨ëœ ë¬¸ìë¥¼ ëœë¤ìœ¼ë¡œ ì„ì–´ì„œ ë¬¸ìë°°ì—´ë¡œ return
num.shuffled()
```

# Substring

- í•˜ë‚˜ì˜ ë¬¸ìì—´ì—ì„œ íŠ¹ì • ë²”ìœ„ì— ìˆëŠ” ë¬¸ìì—´
- ë¬¸ìì—´ì„ ì²˜ë¦¬í•  ë•Œ ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½í•˜ê¸° ìœ„í•´ ì‚¬ìš©
- substringì€ ì›ë³¸ ë¬¸ìì—´ì˜ ë©”ëª¨ë¦¬ë¥¼ ê³µìœ 
- substringì˜ ê°’ì´ ë³€ê²½ë  ë•Œ ìƒˆë¡œìš´ ë©”ëª¨ë¦¬ ìƒì„±

```swift
let str = "Hello, Swift"

var first = str.prefix(1)
first.insert("!", at: first.endIndex)
// substringì˜ ê°’ì´ ë³€ê²½ë  ë•Œ ìƒˆë¡œìš´ ë©”ëª¨ë¦¬ ìƒì„±
// -> Copy-on-Write Optimization

str // Hello, Swift
first // H!

// substringì„ ìƒˆë¡œìš´ ë©”ëª¨ë¦¬ë¡œ ë°”ë¡œ ë³µì‚¬
let newStr = String(str.prefix(1))
```

- Copy-on-Write Optimization
    - ë¶ˆí•„ìš”í•œ ë³µì‚¬ì™€ ë©”ëª¨ë¦¬ ìƒì„±ì„ ìµœëŒ€í•œ ì¤„ì—¬ì„œ ì½”ë“œì˜ ì‹¤í–‰ ì„±ëŠ¥ì„ ë†’ì—¬ì¤Œ
- ë²”ìœ„ë¥¼ ì§€ì •í•  ë•Œ ì •ìˆ˜ ì¸ë±ìŠ¤ê°€ ì•„ë‹ˆë¼ string ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í•¨

```swift
let s = str[0..<2] // error

str[str.startIndex ..< str.index(str.startIndex, offsetBy: 2)]

// ì‹œì‘ ì¸ë±ìŠ¤ ~ 2ë²ˆì§¸ ì¸ë±ìŠ¤
str[..<str.index(str.startIndex, offsetBy: 2)]

// 3ë²ˆì§¸ ì¸ë±ìŠ¤ ~ ë§ˆì§€ë§‰ ì¸ë±ìŠ¤
str[str.index(str.startIndex, offsetBy: 2)...]
```

# String Editing

## Appending Strings and Characters

> ë¬¸ìì—´ ë’¤ì— ìƒˆë¡œìš´ ë¬¸ìë‚˜ ë¬¸ìì—´ ì—°ê²°í•˜ê¸°
> 

```swift
var str = "Hello"
str.append("!") // Hello!

let s = str.appending("Swift")

str // Hello!
s // Hello!Swift
```

- append
    - ëŒ€ìƒ ë¬¸ìì—´ì„ ì§ì ‘ ë³€ê²½
- appending
    - ëŒ€ìƒ ë¬¸ìì—´ì„ ë³€ê²½í•˜ì§€ ì•Šê³  ìƒˆë¡œìš´ ë¬¸ìì—´ë¡œ return
    - ì›ë³¸ì„ ë³€ê²½í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ìƒìˆ˜ì—ì„œ ì‚¬ìš©ê°€ëŠ¥

### appendingFormat()

```swift
"File size is ". appendingFormat("%.1f", 12.3456)
```

- ì›í•˜ëŠ” í¬ë§·ìœ¼ë¡œ ë¬¸ìì—´ì„ ì—°ê²°í•  ë•Œ ì‚¬ìš©

### ë¬¸ìì—´ ì¤‘ê°„ì— ì¶”ê°€

```swift
var str = "Hello Swift"

// íŠ¹ì • ìœ„ì¹˜ì— í•˜ë‚˜ì˜ ë¬¸ì ì¶”ê°€
str.insert(", ", at: str.index(str.startIndex, offsetBy: 5))

// "S"ì˜ ì¸ë±ìŠ¤ë¥¼ ì°¾ì•„ì„œ ì•ì— ë¬¸ì ì¶”ê°€
if let sIndex = str.firstIndex(of: "S"){
	str.insert(contentsOf: "Awesome", at: sIndex)
}
str // Hello, AwesomeSwift
```

## Replacing Substrings

### replaceSubrange(), replacingCharacters()

```swift
var str = "Hello, Objective-C"

if let range = str.range(of: "Objective-C") {
	str.replaceSubrange(range, with: "Swift")
}

str // Hello, Swift

if let range = str.range(of: "Hello") {
	let s = str.replacingCharacters(int: range, with: "Hi")
	
	s // Hi, Swift
	str // Hello, Swift
}
```

### replacingOccurrences()

```swift
var s = str.replacingOccurrences(of: "Swift", with: "Awesome Swift")

// ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì•ˆí•˜ëŠ” ì˜µì…˜ ì¶”ê°€
var s = str.replacingOccurrences(of: "Swift", with: "Awesome Swift", options: [.caseInsensitive]))
```

- ê²€ìƒ‰í•œ ë‹¨ì–´ê°€ ìˆìœ¼ë©´ ê·¸ ë‹¨ì–´ë¥¼ ì§€ì •í•œ ë‹¨ì–´ë¡œ ë³€ê²½
- ìƒˆë¡œìš´ ë¬¸ìì—´ë¡œ ë¦¬í„´

## Removing Substrings

### remove(), removeFirst(), removeLast()

```swift
var str = "Hello, Awesome Swift!!!"

let lastCharIndex = str.index(before: str.endIndex)

str.remove(at: lastCharIndex) // !

str.removeFirst() // ì²« ë²ˆì§¸ ë¬¸ì ì‚­ì œ
str.removeFirst(n) // ì²˜ìŒì— ìˆëŠ” nê°œì˜ ë¬¸ì ì‚­ì œ

str.removeLast() // ë§ˆì§€ë§‰ ë¬¸ì ì‚­ì œ
str.removeLast(n) // ë§ˆì§€ë§‰ì—ì„œ ì „ë‹¬í•œ ìˆ«ìë§Œí¼ ì‚­ì œ
```

### removeSubrange()

- ê²€ìƒ‰í•œ ë‹¨ì–´ ì‚­ì œ

```swift
if let range = str.range(of: "Awesome"){
	str.removeSubrange(range) // Hello, Swift!!!
}
```

### removeAll()

```swift
str.removeAll() // ë©”ëª¨ë¦¬ ê³µê°„ë„ ì‚­ì œ
str.removeAll(keepingCapacity: true) // ë©”ëª¨ë¦¬ ìœ ì§€
```

### dropLast(), dropFirst()

- substringì„ return

```swift
var str = "Hello"

// ë§ˆì§€ë§‰ ë¬¸ìì—´ì„ ì œì™¸í•˜ê³  ì›ë³¸ ë©”ëª¨ë¦¬ ê³µìœ 
str.dropLast() // Hell
str.dropLast(3) // He

str.dropFirst() // ello
str.dropFirst(3) // lo

str.drop(while: { (ch) -> Bool in
	return ch != "l"
}) // llo
```

# String Comparison

### compare(), caseInsensitiveCompare()

```swift
var largeA = "Apple"
var smallA = "apple"

// ë¬¸ìì—´ì´ ê°™ì€ì§€ ë¹„êµ
largeA.compare(smallA) == .orderedSame
// false

// ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì—†ì´ ë¹„êµ
largeA.caseInsensitiveCompare(smallA) == .orderedSame
// true

largeA.compare(smallA, [.caseInsensitive]) == .orderedSame
```

### hasPrefix(), hasSuffix()

```swift
let str = "Hello, Swift Programming!"
let prefix = "Hello"
let suffix = "Programming"

str.hasPrefix(prefix) // ì ‘ë‘ì–´ ë¹„êµ // true
str.hasSuffix(suffix) // ì ‘ë¯¸ì–´ ë¹„êµ // false
```